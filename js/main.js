var thisArray = ['T', 'h', 'a', 'i', 's', 'b', ' ', 'i', 'c', 's', ' ', 'a', 't', 'h', 'e', 'e', ' ', 't', 's', 'o', 'r', 'n', 'g', 't', ' ', 't', 'n', 'h', 'a', 's', 't', ' ', 'o', 'n', 'e', 'o', 'v', 'e', 'a', 'r', ' ', 'f', 'e', 'n', 'a', 'd', 's', 'p', ',', ' ', 'p', 'y', 'e', 'i', 's', ' ', 'p', 'i', 't', 'o', ' ', 'g', ' ', 'o', 'e', 'i', 's', ' ', 't', 'o', 'n', 'e', ' ', 'a', ' ', 'n', 'd', ' ', ' ', 'o', 'i', 'n', ' ', 'a', 'm', 'y', ' ', ' ', 'f', 'a', 'r', 'i', ' ', 'e', 'n', 'o', 'd', 's', 'i', ' ', 'S', ' ', 'o', 'm', 'a', 'e', ' ', 'a', 'p', 'e', ' ', 'o', 'p', 'a', 'l', 'e', 'r', ' ', 's', ' ', 't', 'a', 'a', 'r', 't', ' ', 'e', 'd', 'u', ' ', 's', ' ', 'i', 'n', 'g', 'g', 'i', ' ', 'n', 'g', 'o', ' ', 'i', 't', 't', ',', ' ', ' ', 'n', 'i', 'o', 't', 'h', ' ', 'k', 'a', 'n', 'o', ' ', 'w', 'i', ' ', 'n', 'g', 'o', ' ', 'w', 'r', 'h', 'a', 'i', 't', ' ', 's', 'i', 't', 'h', ' ', 'w', 'r', 'a', 's', 'h', ' ', 'A', ' ', 'n', 'd', 'a', ' ', 't', 'o', 'h', 'e', ' ', 'y', ' ', 'a', 'w', 'i', 'p', 'l', 'l', 'o', ' ', 'c', 'r', 'o', 'n', ' ', 't', 'i', 'p', 'n', 'u', 'i', 'e', ' ', 't', 's', 'i', ' ', 'n', 'g', ' ', 'i', 'n', ' ', 'g', ' ', 's', 'i', 't', 'h', ' ', 'f', 'r', 'o', 'r', ' ', 'e', 'v', 't', 'e', 'r', 't', ' ', 'j', 'u', 'u', 's', 't', 't', ' ', 'a', 'b', 'e', 'l', 'c', 'a', ' ', 'u', 's', 'l', 'e'];
var len = thisArray.length;

/*
Flickr Feed
 */
	var flickrFeed = {
	    "title": "Recent Uploads tagged punctuation and atsign",
	    "link": "https://www.flickr.com/photos/",
	    "description": "",
	    "modified": "2014-01-09T15:40:57Z",
	    "generator": "https://www.flickr.com/",
	    "items": [{
	        "title": "Sleepy @ Thru Time",
	        "link": "https://www.flickr.com/photos/kombizz/11855802074/",
	        "media": {
	            "m": "https://farm4.staticflickr.com/3769/11855802074_889a624fe2_m.jpg"
	        },
	        "date_taken": "2013-12-22T12:45:51-08:00",
	        "description": " <p><a href=\"https://www.flickr.com/people/kombizz/\">Kombizz<\/a> posted a photo:<\/p> <p><a href=\"https://www.flickr.com/photos/kombizz/11855802074/\" title=\"Sleepy @ Thru Time\"><img src=\"https://farm4.staticflickr.com/3769/11855802074_889a624fe2_m.jpg\" width=\"240\" height=\"180\" alt=\"Sleepy @ Thru Time\" /><\/a><\/p> ",
	        "published": "2014-01-09T15:40:57Z",
	        "author": "nobody@flickr.com (Kombizz)",
	        "author_id": "11146274@N00",
	        "tags": "archaeology gulf stones middleeast khaki sleepy future archeology recovery doha qatar punctuation persiangulf 2623 atsign dirts atsymbol zir khalijfars kombizz futureartifact commercialat archaeologicalfinding khaleejfars futurediscovery زيرخاكي futurerecovery frozenthrutime sleepythrutime"
	    }, {
	        "title": "Buy Opt In Email Lists",
	        "link": "https://www.flickr.com/photos/93970464@N05/9183465708/",
	        "media": {
	            "m": "https://farm4.staticflickr.com/3697/9183465708_8444b88e25_m.jpg"
	        },
	        "date_taken": "2013-07-01T03:53:30-08:00",
	        "description": " <p><a href=\"https://www.flickr.com/people/93970464@N05/\">Princiana<\/a> posted a photo:<\/p> <p><a href=\"https://www.flickr.com/photos/93970464@N05/9183465708/\" title=\"Buy Opt In Email Lists\"><img src=\"https://farm4.staticflickr.com/3697/9183465708_8444b88e25_m.jpg\" width=\"240\" height=\"240\" alt=\"Buy Opt In Email Lists\" /><\/a><\/p> <p>Visit the website at <a href=\"http://www.vettamarketing.com/emailmarketing.php\" rel=\"nofollow\">www.vettamarketing.com/emailmarketing.php<\/a> and get the details.<br /> Close up of at sign key on computer keyboard.<\/p>",
	        "published": "2013-07-01T10:55:17Z",
	        "author": "nobody@flickr.com (Princiana)",
	        "author_id": "93970464@N05",
	        "tags": "stilllife color closeup computer square keys office keyboard technology symbol internet nobody email communication online button wireless networking access studioshot connectivity punctuation abbreviation personalcomputer businessandcommerce atsign computerhardware wirelesscommunication oneobject emaillist buyemaillists"
	    }, {
	        "title": "Pushfit cube @",
	        "link": "https://www.flickr.com/photos/lwr/6267832985/",
	        "media": {
	            "m": "https://farm7.staticflickr.com/6176/6267832985_0451665764_m.jpg"
	        },
	        "date_taken": "2011-09-27T12:23:37-08:00",
	        "description": " <p><a href=\"https://www.flickr.com/people/lwr/\">Leo Reynolds<\/a> posted a photo:<\/p> <p><a href=\"https://www.flickr.com/photos/lwr/6267832985/\" title=\"Pushfit cube @\"><img src=\"https://farm7.staticflickr.com/6176/6267832985_0451665764_m.jpg\" width=\"240\" height=\"240\" alt=\"Pushfit cube @\" /><\/a><\/p> ",
	        "published": "2011-10-22T03:57:21Z",
	        "author": "nobody@flickr.com (Leo Reynolds)",
	        "author_id": "49968232@N00",
	        "tags": "canon eos iso100 60mm f80 punctuation atsign letterset 40d hpexif 0033sec xsquarex grouppunctuation xleol30x"
	    }, {
	        "title": "magnet - @",
	        "link": "https://www.flickr.com/photos/lwr/5509499881/",
	        "media": {
	            "m": "https://farm6.staticflickr.com/5020/5509499881_af62880daf_m.jpg"
	        },
	        "date_taken": "2011-03-07T11:00:25-08:00",
	        "description": " <p><a href=\"https://www.flickr.com/people/lwr/\">Leo Reynolds<\/a> posted a photo:<\/p> <p><a href=\"https://www.flickr.com/photos/lwr/5509499881/\" title=\"magnet - @\"><img src=\"https://farm6.staticflickr.com/5020/5509499881_af62880daf_m.jpg\" width=\"240\" height=\"240\" alt=\"magnet - @\" /><\/a><\/p> ",
	        "published": "2011-03-08T19:06:15Z",
	        "author": "nobody@flickr.com (Leo Reynolds)",
	        "author_id": "49968232@N00",
	        "tags": "canon eos iso100 squaredcircle 60mm magnet punctuation atsign 0sec f160 40d hpexif grouppunctuation sqset061 xleol30x"
	    }, {
	        "title": "@",
	        "link": "https://www.flickr.com/photos/lwr/4169394293/",
	        "media": {
	            "m": "https://farm3.staticflickr.com/2610/4169394293_4302a6dce3_m.jpg"
	        },
	        "date_taken": "2009-05-10T15:26:04-08:00",
	        "description": " <p><a href=\"https://www.flickr.com/people/lwr/\">Leo Reynolds<\/a> posted a photo:<\/p> <p><a href=\"https://www.flickr.com/photos/lwr/4169394293/\" title=\"@\"><img src=\"https://farm3.staticflickr.com/2610/4169394293_4302a6dce3_m.jpg\" width=\"240\" height=\"240\" alt=\"@\" /><\/a><\/p> <p>Shrewsbury, Shropshire, England, UK<\/p>",
	        "published": "2009-12-08T20:44:04Z",
	        "author": "nobody@flickr.com (Leo Reynolds)",
	        "author_id": "49968232@N00",
	        "tags": "canon iso100 is 100mm powershot squaredcircle punctuation atsign 0005sec f57 hpexif 066ev sx10 grouppunctuation sqset043 xleol30x"
	    }, {
	        "title": "@",
	        "link": "https://www.flickr.com/photos/lwr/1075513178/",
	        "media": {
	            "m": "https://farm2.staticflickr.com/1208/1075513178_5a9d18ad09_m.jpg"
	        },
	        "date_taken": "2007-06-17T22:54:04-08:00",
	        "description": " <p><a href=\"https://www.flickr.com/people/lwr/\">Leo Reynolds<\/a> posted a photo:<\/p> <p><a href=\"https://www.flickr.com/photos/lwr/1075513178/\" title=\"@\"><img src=\"https://farm2.staticflickr.com/1208/1075513178_5a9d18ad09_m.jpg\" width=\"240\" height=\"240\" alt=\"@\" /><\/a><\/p> <p>Paris, France<\/p>",
	        "published": "2007-08-10T21:37:31Z",
	        "author": "nobody@flickr.com (Leo Reynolds)",
	        "author_id": "49968232@N00",
	        "tags": "sign canon is powershot squaredcircle s3 punctuation f35 atsign sqparis 0ev 0013sec hpexif 293mm booksignssymbols xsquarex grouppunctuation xratio11x sqset023 xleol30x"
	    }, {
	        "title": "laser2 laserAt",
	        "link": "https://www.flickr.com/photos/aplumb/304377225/",
	        "media": {
	            "m": "https://farm1.staticflickr.com/103/304377225_8d7bd64c5a_m.jpg"
	        },
	        "date_taken": "2006-11-22T16:25:18-08:00",
	        "description": " <p><a href=\"https://www.flickr.com/people/aplumb/\">aplumb<\/a> posted a photo:<\/p> <p><a href=\"https://www.flickr.com/photos/aplumb/304377225/\" title=\"laser2 laserAt\"><img src=\"https://farm1.staticflickr.com/103/304377225_8d7bd64c5a_m.jpg\" width=\"240\" height=\"180\" alt=\"laser2 laserAt\" /><\/a><\/p> ",
	        "published": "2006-11-23T19:08:53Z",
	        "author": "nobody@flickr.com (aplumb)",
	        "author_id": "81685076@N00",
	        "tags": "2 keyboard projection laser punctuation onedigit atsign"
	    }, {
	        "title": "at symbol @",
	        "link": "https://www.flickr.com/photos/lwr/188599518/",
	        "media": {
	            "m": "https://farm1.staticflickr.com/60/188599518_1eeeca90b3_m.jpg"
	        },
	        "date_taken": "2006-05-15T20:40:11-08:00",
	        "description": " <p><a href=\"https://www.flickr.com/people/lwr/\">Leo Reynolds<\/a> posted a photo:<\/p> <p><a href=\"https://www.flickr.com/photos/lwr/188599518/\" title=\"at symbol @\"><img src=\"https://farm1.staticflickr.com/60/188599518_1eeeca90b3_m.jpg\" width=\"240\" height=\"240\" alt=\"at symbol @\" /><\/a><\/p> ",
	        "published": "2006-07-13T06:39:02Z",
	        "author": "nobody@flickr.com (Leo Reynolds)",
	        "author_id": "49968232@N00",
	        "tags": "canon eos 350d iso400 squaredcircle f56 punctuation 105mm atsign 0ev sqdublin hpexif 0017sec sqrandom xsquarex grouppunctuation xratio11x sqset010 xleol30x"
	    }, {
	        "title": "@",
	        "link": "https://www.flickr.com/photos/lwr/18170975/",
	        "media": {
	            "m": "https://farm1.staticflickr.com/14/18170975_d37ea22978_m.jpg"
	        },
	        "date_taken": "2005-06-06T11:33:32-08:00",
	        "description": " <p><a href=\"https://www.flickr.com/people/lwr/\">Leo Reynolds<\/a> posted a photo:<\/p> <p><a href=\"https://www.flickr.com/photos/lwr/18170975/\" title=\"@\"><img src=\"https://farm1.staticflickr.com/14/18170975_d37ea22978_m.jpg\" width=\"240\" height=\"240\" alt=\"@\" /><\/a><\/p> <p>St Benedict\'s Street, Norwich, Norfolk, England, UK<\/p>",
	        "published": "2005-06-08T12:36:45Z",
	        "author": "nobody@flickr.com (Leo Reynolds)",
	        "author_id": "49968232@N00",
	        "tags": "canon eos 350d iso100 punctuation 135mm f63 atsign scoutleol30 0ev 0005sec hpexif xsquarex xexplorex grouppunctuation xratio11x xleol30x"
	    }]
	}




/*
Part 1. FORM VALIDATION CODE
 */
	function Validator() {
	    this.formInputs = document.forms[0].elements;
	    var submitButton = document.querySelector('#submit_btn');

	    this.error = [];

	    submitButton.addEventListener('click', this.init.bind(this));
	}

	Validator.prototype.init = function(event) {
	    event.preventDefault();

	    var formInputsArray = this.formInputs;

	    var inputObject = {};

	    [].forEach.call(formInputsArray, function(element, index, array) {
	        if (!inputObject[element.id] && !element.id.length < 1) {
	            inputObject[element.id] = element.value
	        }
	    })

	    this.validateUserName(inputObject);
	    this.validatePassword(inputObject);
	    this.validateUserNumber(inputObject);

	    if (this.error.length > 0) {
	        this.alertErrors(this.error)
	        this.error = []
	    }
	}

	Validator.prototype.validateUserName = function(input) {
	    var username = input.username;
	    var errorMessage = "Username must contain a lower and upper case letter and at least 1 number. Cannot contain special characters."
	    if (username.search(/(\d+)/g) === -1 || username.search(/[a-z]+/g) === -1 || username.search(/[A-Z]+/g) === -1 || username.search(/[\W+]/g) != -1) {
	        this.error.push(errorMessage)
	    }
	}

	Validator.prototype.validatePassword = function(input) {
	    var password = input.password;
	    var errorMessage = "Password must contain at least 2 numbers and be 8 to 15 characters in length."
	    if (password.search(/\d{2,}/g) === -1 || password.search(/.{8,15}/g) === -1) {
	        this.error.push(errorMessage)
	    }
	}

	Validator.prototype.validateUserNumber = function(input) {
	    var userNumber = input.usernumber;
	    var errorMessage = "User Number must be 36 digits and have no non-numeral characters."
	    if (userNumber.search(/.{36}/g) === -1 || userNumber.search(/\D+/g) != -1) {
	        this.error.push(errorMessage)
	    }
	}

	Validator.prototype.alertErrors = function(errorArray) {
	    var errorString = ""
	    for (var i = 0; i < errorArray.length; i++) {
	        errorString += "\n\u2022" + errorArray[i] + "\n"
	    }

	    console.log(errorString)
	    alert(errorString);
	}

/*
Part 2. YUI POPUP CODE
 */

	// YUI().use('transition', 'panel', function(Y) {
	//     console.dir(Y)

	//     var openBtn = Y.one('#findoutmore'),
	//         panel, bb;

	//     function showPanel() {
	//         panel.show();
	//         bb.transition({
	//             duration: 0.5,
	//             top: '80px'
	//         });
	//     }

	//     function hidePanel() {
	//             bb.transition({
	//                 duration: 0.5,
	//                 top: '-300px'
	//             }, function() {
	//                 panel.hide();
	//             });
	//         }
	//         // debugger;

	//     function generateIframeNode() {
	//         var objNode = document.createElement("iframe");
	//         objNode.id = "popup";
	//         // objNode.src = "http://cpanel.net";
	//         objNode.src = "./cPanel.html";
	//         objNode.sandbox = "allow-same-origin";
	//         return objNode;
	//     }

	//     panel = new Y.Panel({
	//         // srcNode: $("#popup").load("./cPanel.html"),
	//         // srcNode: generateIframeNode(),
	//         // headerContent: "<div class='yui3-widget-hd'></div>",
	//         // headerContent: "<div id='myHeader'></div>",
	//         bodyContent: "<iframe src='./cPanel.html' sandbox='allow-same-origin allow-scripts allow-forms' id='popup'></iframe>",
	//         width: "90%",
	//         height: "70%",
	//         xy: [300, -300],
	//         id: 'myPanel',
	//         centered: true,
	//         zIndex: 5,
	//         modal: true,
	//         visible: false,
	//         render: true,
	//         buttons: [{
	//                 value: "close panel",
	//                 action: function(e) {
	//                     e.preventDefault();
	//                     hidePanel();
	//                 },
	//                 section: Y.WidgetStdMod.HEADER
	//             }]
	//             // hideOn: [
	//             // 	{
	//             // 		eventName: 'clickoutside'
	//             // 	}
	//             // ]
	//     });

	//     bb = panel.get('boundingBox');

	//     openBtn.on('click', function(e) {
	//         showPanel();
	//     });

	// });

/*
Part 3. THE ARRAY CODE
 */

	for (var i = thisArray.length - 3; i >= 0; i = i - 3) {
	    thisArray.splice(i - 2, 1);
	};

	$('#array').html(thisArray.join(''))

/*
Part 4. THE FLICKR JSON FEED CODE
 */


var getFlickPix = function() {
	// e.preventDefault();
	flickrURL = "http://www.flickr.com/services/feeds/photos_public.gne?jsoncallback=?"
    $.getJSON(flickrURL, {
    	tags: "punctuation,atsign",
    	format: "json"
    }).then(function(data){
    	console.dir(data)
    	// $('#flickrPhotos').append(
    	// 		data.items.forEach(function(element, index){
    	// 			debugger;
    	// 			var test = _.template("<h4>{title}</h4><img src='{link}'><hr>", element)
    	// 			return test;
    	// 		})
    	// 	)

    	data.items.forEach(function(element){
    		var photo = _.template("<h4>{description}</h4><hr>", element)
    		$('#flickrPhotos').append(photo);
    	})
    })



    // debugger;
	// return $.getJSON("/flickrAPI/?tags=punctuation,atsign&format=json&callback=?").then(function(data){
	//     	debugger;
	//     	console.dir(data.items)
	//     	return data;
	//     })
	
	// var flickrFeedObject = $.parseJSON(flickrFeed)
	// console.dir(flickrFeedObject);
	// console.dir(flickrFeed);
	// http://www.flickr.com/services/feeds/photos_public.gne?tags=punctuation,atsign&format=jsoncallback=?
}

$('#flickrpics').on('click', getFlickPix);
